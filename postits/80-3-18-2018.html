<!DOCTYPE html>
<html>
<head>

	<!-- style -->
	<link rel="stylesheet" href="../css/style.css">

	<!-- favicon -->
	<link rel="icon" href="../things/compass.png">

	<title>80</title>
</head>
<body>

	<a href="../index.html">..</a>

	<br></br>

	<h3>How to Install the Maps SDK on Android - A Beginner's Tutorial</h3>

	Mapbox Maps SDK for Android is an another open source set of tools that allow you to deploy maps on Android. To install this, you'll need the following:

	<ul><b>Android Studio</b> is a popular IDE for programming Android applications.</ul>

	<ul><b>Mapbox Account</b> will give you access to their APIs with your personal <b>access token</b>. If you don't have an account, don't worry! It's free for non-commercial use.</ul>

	<h3>Add the Dependency</h3>

	1. Open Android Studio<br>
	2. Open build.gradle<br>
	3. Ensure the project's <code>minSdkVersion</code> is at API 14 or higher<br>
	4. Under dependencies in <code>build.gradle (Module: app)</code>, add a new build rule fo the latest <code>mapbox-android-sdk</code>
	<br>
	<code>implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:5.5.0'</code>
	<br>
	6. Under <code>repositories</code> in <code>build.gradle (Project: [name])</code>, add
	<br>
	<code>mavenCentral()</code>
	</br>
	5. Hit "Sync Project" with Gradle Files near the toolbar in Studio

	<h3>Get an Access Token</h3>

	1. Once you have your Mapbox Account, obtain your <b>default public token</b> and copy it.<br>
	2. Open <code>string.xml</code> <br>
	3. Create a new string and paste the access token<br>
	4. Place the access token inside of your application's <code>onCreate()</code>
	<xmp>
	Mapbox.(getApplicationContext(), "[your access token]");
	</xmp>
	If Mapbox is in red, then hover over it with your cursor and hit alt+enter. This will import the class to this file.

	<h3>Setup Permissions</h3>

	If you want to display the user's location on the map or access that information, either the Fine or Caorse location permission needs to be added in your main activity file's <code>.xml</code>.

	<xmp>
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	</xmp>

	<h3>Add a Map</h3>

	1. Open the activity <code>.java</code> file to include the map on
	2. Add the following
	<xmp>
		private MapView mapView;
 
		@Override
		protected void onCreate(Bundle savedInstanceState) {
		  super.onCreate(savedInstanceState);
		 
		  mapView = (MapView) findViewById(R.id.mapView);
		  mapView.onCreate(savedInstanceState);
		  mapView.getMapAsync(new OnMapReadyCallback() {
		    @Override
		    public void onMapReady(MapboxMap mapboxMap) {
		 
		      // Customise map with markers, polylines, etc. 
		 
		    }
		  });
		}
		 
		  // Add required Lifecycle methods listed in next section 
	</xmp>
	3. Open the main activity file's <code>.xml</code> and poste the following to add the map view.
	<xmp>
	  <com.mapbox.mapboxsdk.maps.MapView
	  android:id="@+id/mapView"
	  android:layout_width="match_parent"
	  android:layout_height="match_parent"
	  mapbox:mapbox_styleUrl="@string/mapbox_style_mapbox_streets" />
	</xmp>

	<h3>Lifecycle Methods</h3>

	The MapView contains its own lifecycle methods for managing Android's OpenGL lifecycle, which must be called directly from the containing Activity. 
	<br>
	1. Override the following lifecycle methods in the Activity that contains the MapView and call the respective MapView method. Make your onStart(), look like the following:
	<xmp>
		@Override
		protected void onStart() {
		  super.onStart();
		  mapView.onStart();
		}
	</xmp>

	There you go! We'll work on expanding this and building applications with Mapbox Maps SDK for Android later.
</body>
</html>
